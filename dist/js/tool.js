!function(t){var e={};function s(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=2)}([function(t,e){t.exports=function(t,e,s,r,n,i){var o,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(o=t,a=t.default);var c,l="function"==typeof a?a.options:a;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),s&&(l.functional=!0),n&&(l._scopeId=n),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):r&&(c=r),c){var d=l.functional,_=d?l.render:l.beforeCreate;d?(l._injectStyles=c,l.render=function(t,e){return c.call(e),_(t,e)}):l.beforeCreate=_?[].concat(_,c):[c]}return{esModule:o,exports:a,options:l}}},function(t,e,s){var r=s(0)(s(8),s(9),!1,null,null,null);t.exports=r.exports},function(t,e,s){s(3),t.exports=s(15)},function(t,e,s){Nova.booting(function(t,e,r){e.addRoutes([{name:"nova-redirect-tester",path:"/nova-redirect-tester",component:s(4)}])})},function(t,e,s){var r=s(0)(s(5),s(14),!1,null,null,null);t.exports=r.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(6),n=s.n(r),i=s(1),o=s.n(i);e.default={components:{TestPill:o.a,RedirectTester:n.a},data:function(){return{testRunning:0,testSuccess:0,testError:0,groups:[]}},mounted:function(){var t=this;Nova.request().get("/nova-vendor/nova-redirect-tester/redirects").then(function(e){t.groups=e.data,t.testRunning=t.totalCount})},computed:{totalCount:function(){var t=0;for(var e in this.groups)t+=this.groups[e].items.length;return t}},methods:{itemSuccess:function(){this.testRunning--,this.testSuccess++},itemError:function(){this.testRunning--,this.testError++}}}},function(t,e,s){var r=s(0)(s(7),s(13),!1,null,null,null);t.exports=r.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(1),n=s.n(r),i=s(10),o=s.n(i);e.default={components:{RedirectStatus:o.a,TestPill:n.a},props:{name:{},description:{},items:{default:function(){return[]}}},data:function(){return{testRunning:0,testSuccess:0,testError:0}},mounted:function(){this.checkItems()},computed:{formatedItems:function(){var t=[];for(var e in this.items){var s=this.items[e];t.push(_.extend({url_from_formated:this.splitUrl(s.url_from),url_to_formated:this.splitUrl(s.url_to),result:{}},s))}return t}},methods:{splitUrl:function(t){var e=t&&/.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/.exec(t),s=e&&e[1];return s?{path:s,domain:t.substr(0,t.length-s.length)}:{}},checkItems:function(){for(var t in this.testRunning=this.items.length,this.testSuccess=0,this.testError=0,this.items)this.checkItem(this.items[t],t)},itemSuccess:function(){return this.testSuccess++,this.$emit("itemSuccess",1),{type:"success"}},itemError:function(t){return this.testError++,this.$emit("itemError",1),{type:"error",msg:t}},checkItem:function(t,e){var s=this;fetch(t.url_from,{method:"HEAD"}).then(function(r){t.status=r.status,404==t.expected_status_code&&404===r.status?t.result=s.itemSuccess():200!==r.status?t.result=s.itemError("Wrong status code"):r.redirected&&t.url_to!==r.url?t.result=s.itemError('Wrong <a href="'+r.url+'" title="'+r.url+'" target="_blank" class="text-primary no-underline">Url</a>'):t.result=s.itemSuccess(),s.testRunning--,s.$set(s.items,e,t)})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{color:{default:"blue"}},computed:{getClass:function(){return"bg-"+this.color}}}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"inline-block rounded py-1 px-3 text-white",class:this.getClass},[this._t("default")],2)},staticRenderFns:[]}},function(t,e,s){var r=s(0)(s(11),s(12),!1,null,null,null);t.exports=r.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{status:{default:"loading"}}}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",["error"==this.status?e("svg",{attrs:{fill:"red",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{staticClass:"heroicon-ui",attrs:{d:"M4.93 19.07A10 10 0 1 1 19.07 4.93 10 10 0 0 1 4.93 19.07zm1.41-1.41A8 8 0 1 0 17.66 6.34 8 8 0 0 0 6.34 17.66zM13.41 12l1.42 1.41a1 1 0 1 1-1.42 1.42L12 13.4l-1.41 1.42a1 1 0 1 1-1.42-1.42L10.6 12l-1.42-1.41a1 1 0 1 1 1.42-1.42L12 10.6l1.41-1.42a1 1 0 1 1 1.42 1.42L13.4 12z"}})]):"success"==this.status?e("svg",{attrs:{fill:"green",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{staticClass:"heroicon-ui",attrs:{d:"M17.62 10H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8.5c-1.2 0-2.3-.72-2.74-1.79l-3.5-7-.03-.06A3 3 0 0 1 5 9h5V4c0-1.1.9-2 2-2h1.62l4 8zM16 11.24L12.38 4H12v7H5a1 1 0 0 0-.93 1.36l3.5 7.02a1 1 0 0 0 .93.62H16v-8.76zm2 .76v8h2v-8h-2z"}})]):e("div",{staticClass:"redirect-tester-loader"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("card",[s("h3",{staticClass:"p-3"},[t._v("\n            "+t._s(t.name)+"\n\n            "),s("redirect-status",{attrs:{status:t.testRunning?"loading":t.testError>0?"error":"success"}}),t._v(" "),t.description?s("span",{staticClass:"align-middle",attrs:{title:t.description}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[s("path",{staticClass:"heroicon-ui",attrs:{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9a1 1 0 0 1 1 1v4a1 1 0 0 1-2 0v-4a1 1 0 0 1 1-1zm0-4a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})])]):t._e(),t._v(" "),s("div",{staticClass:"float-right text-sm"},[s("test-pill",{attrs:{color:"blue"}},[t._v(t._s(t.testRunning)+" Running")]),t._v(" "),s("test-pill",{attrs:{color:"green"}},[t._v(t._s(t.testSuccess)+" Success")]),t._v(" "),s("test-pill",{attrs:{color:"red"}},[t._v(t._s(t.testError)+" Error")])],1)],1),t._v(" "),s("table",{staticClass:"table w-full table-default"},[s("thead",[s("tr",[s("th",[t._v("Url from")]),s("th",[t._v("Url to")]),s("th",[t._v("Status")]),s("th",[t._v("Result")])])]),t._v(" "),s("tbody",t._l(t.formatedItems,function(e){return s("tr",[s("td",[s("a",{staticClass:"text-primary no-underline",attrs:{href:e.url_from,target:"_blank"}},[t._v(t._s(e.url_from_formated.path))]),t._v(" "),s("br"),s("small",[t._v(t._s(e.url_from_formated.domain))])]),t._v(" "),s("td",[s("a",{staticClass:"text-primary no-underline",attrs:{href:e.url_to,target:"_blank"}},[t._v(t._s(e.url_to_formated.path))]),t._v(" "),s("br"),s("small",[t._v(t._s(e.url_to_formated.domain))])]),t._v(" "),s("td",[t._v(t._s(e.status))]),t._v(" "),s("td",{staticClass:"text-center"},[s("redirect-status",{attrs:{status:e.result.type}}),t._v(" "),s("span",{domProps:{innerHTML:t._s(e.result.msg)}})],1)])}),0)])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("heading",{staticClass:"mb-6"},[t._v("Nova Redirect Tester")]),t._v(" "),s("div",{staticClass:"text-center mb-5"},[s("test-pill",{attrs:{color:"blue"}},[t._v(t._s(t.testRunning)+" / "+t._s(t.totalCount)+" Running")]),t._v(" "),s("test-pill",{attrs:{color:"green"}},[t._v(t._s(t.testSuccess)+" / "+t._s(t.totalCount)+" Success")]),t._v(" "),s("test-pill",{attrs:{color:"red"}},[t._v(t._s(t.testError)+" / "+t._s(t.totalCount)+" Error")])],1),t._v(" "),t._l(t.groups,function(e){return s("div",[s("redirect-tester",{staticClass:"mb-6",attrs:{name:e.name,description:e.description,items:e.items},on:{itemError:t.itemError,itemSuccess:t.itemSuccess}})],1)})],2)},staticRenderFns:[]}},function(t,e){}]);